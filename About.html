<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="shortcut icon" href="#">
<link rel="stylesheet" href="./style.css">
    <link rel="stylesheet" href="../css/bootstrap.min.css">
    <link rel="stylesheet" href="../node_modules/bootstrap/dist/css/bootstrap.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
</head>
<body style="background-image: linear-gradient(to right, rgba(255,0,0,0), rgb(242, 245, 144));">

    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
      
      
  
      <div class="collapse navbar-collapse mx-auto" id="navbarSupportedContent">
          <ul class="navbar-nav mx-auto">
              <li class="nav-item active display-6 mx-auto" id="nav" >
                  <a class="nav-link "  href="/">Home <span class="sr-only"></span></a>
              </li>
              <li class="nav-item active display-6 mx-auto" id="nav">
                  <a class="nav-link" href="/about">About Us</a>
              </li>
          </ul>
      </div>
      
    </nav>
   


    <link href="https://vjs.zencdn.net/7.4.1/video-js.css" rel="stylesheet">
    <video id="myPlayer" class="video-js"
        controls preload="auto" width="440" height="264"
        poster="http://vjs.zencdn.net/v/oceans.png">
    <source src="http://vjs.zencdn.net/v/oceans.mp4" type="video/mp4">
    </video>

    
    <script src='https://vjs.zencdn.net/7.4.1/video.js'></script>
    <script>

        const player = videojs('myPlayer');
        const trackingPoint = 100;
        let totalTime = 0;
        let tempTotalTime = 0;
        let startTime = 0;

        player.on('pause', function () {
        totalTime += tempTotalTime;
        });

        player.on('play', function () {
        startTime = player.currentTime();
        });

        player.on('timeupdate', function () {
        if (player.paused()) {
            return;
        }
        let currentTime = player.currentTime();
        tempTotalTime = currentTime - startTime;
        let tmptotalTime = totalTime + tempTotalTime;
        let playbackRate = tmptotalTime / player.duration() * 100;

        
        // console.log(player.duration());
        // console.log(tmptotalTime);  // ye batata hai , har second ka time 
        console.log(totalTime);   // pause k baad ka time 
        // console.log(currentTime);
        let percentage=Math.floor(playbackRate) + ' %';
        console.log(percentage);

            // app.post('/about', function(req,res){
            //     let newNote = new Note({
            //         current_time : req.body.totalTime,
            //         percentage : req.body.percentage
            //     })
            //     newNote.save();
            // })
        
        });

    </script>
</body>
</html>


